
<div class="box-info full">
  <%= render partial: 'shared/modal_errors', locals: { object: imprintable } %>
  <%= form_for imprintable, builder: LancengFormBuilder do |f| %>
    <!-- Horizontal form body -->
    <div id="horizontal-form" class="collapse in">

      <div class="form-group">
        <%= f.label :brand, class: 'col-sm-2 control-label' %>
        <%= f.error_for :brand %>
        <div class="col-sm-10">
          <%= select_tag :brand,
                         options_for_select(['Select a Brand'] + Brand.order(:name).collect{ |b| [b.name, b.id] }, find_brand(imprintable)),
                         {
                             class: 'form-control',
                             id: 'imprintable_brand_id'
                         } %>
          <p class="help-block">The brand of the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :style, class: 'col-sm-2 control-label' %>
        <%= f.error_for :style %>
        <div class="col-sm-10">
          <%= f.grouped_collection_select(:style_id, Brand.order(:name), :styles, :name, :id, :name, {}, { :class => 'form-control', :id => 'imprintable_style_id' }) %>
          <p class="help-block">The catalog number of the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :standard_offering, 'Standard Offering', class: 'col-sm-2 control-label' %>
        <%= f.error_for :standard_offering %>
        <div class="col-sm-10">
          <%= f.check_box :standard_offering, { class: 'checkbox' }, 'true', 'false' %>
          <p class="help-block">Check if the imprintable is included in the standard product set</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :sizing_category, 'Sizing Category', class: 'col-sm-2 control-label' %>
        <%= f.error_for :sizing_category %>
        <div class="col-sm-10">
          <%= f.select :sizing_category,
                       Imprintable::SIZING_CATEGORIES,
                       { :prompt => 'Please select a sizing category' },
                       {
                           class: 'form-control',
                           id: 'imprintable_sizing_category'
                       } %>
          <p class="help-block">Select the sizing category for the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :material, class: 'col-sm-2 control-label' %>
        <%= f.error_for :material %>
        <div class="col-sm-10">
          <%= f.text_field :material, class: 'form-control' %>
          <p class="help-block">The material of the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :polyester, class: 'col-sm-2 control-label' %>
        <%= f.error_for :polyester %>
        <div class="col-sm-10">
          <%= f.check_box :polyester, { class: 'checkbox' }, 'true', 'false' %>
          <p class="help-block">Check if the imprintable contains polyester</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :flashable, class: 'col-sm-2 control-label' %>
        <%= f.error_for :flashable %>
        <div class="col-sm-10">
          <%=  f.check_box :flashable, { class: 'checkbox' }, 'true', 'false' %>
          <p class="help-block">Check if the imprintable is flashable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :proofing_template_name, 'Proofing Template Name', class: 'col-sm-2 control-label' %>
        <%= f.error_for :proofing_template_name %>
        <div class="col-sm-10">
          <%= f.text_field :proofing_template_name, class: 'form-control' %>
          <p class="help-block">The proofing template name of the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :special_considerations, 'Special Considerations', class: 'col-sm-2 control-label' %>
        <%= f.error_for :special_considerations %>
        <div class="col-sm-10">
          <%= f.text_field :special_considerations, class: 'form-control' %>
          <p class="help-block">Special considerations for the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :tag_list, 'Tag List (separated by commas)', class: 'col-sm-2 control-label' %>
        <%= f.error_for :tag_list %>
        <div class="col-sm-10">
          <%= f.text_field :tag_list %>
          <p class="help-block">Tag the imprintable</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :sample_location_ids, 'Sample Locations', class: 'col-sm-2 control-label' %>
        <%= f.error_for :sample_location_ids %>
        <div class="col-sm-10">
          <%= f.collection_select :sample_location_ids, Store.order(:name), :id, :name, {}, { multiple: true, data: { placeholder: 'Select sample locations' } } %>
          <p class="help-block">Sample locations available for the imprintable </p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :coordinate_ids, 'Coordinates', class: 'col-sm-2 control-label' %>
        <%= f.error_for :coordinate_ids %>
        <div class="col-sm-10">
          <%= f.collection_select :coordinate_ids, Imprintable.all, :id, :name, {}, { multiple: true, data: { placeholder: 'Select coordinates' } } %>
          <p class="help-block">Coordinates available for the imprintable </p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :compatible_imprint_method_ids, 'Compatible Imprint Methods', class: 'col-sm-2 control-label' %>
        <%= f.error_for :compatible_imprint_method_ids %>
        <div class="col-sm-10">
          <%= f.collection_select :compatible_imprint_method_ids, ImprintMethod.all, :id, :name, {}, { multiple: true, data: { placeholder: 'Select compatible imprint methods' } } %>
          <p class="help-block">Coordinates available for the imprintable </p>
        </div>
      </div>



      <% text = create_or_edit_text(imprintable) %>
      <% if text == 'Update' %>
        <% variants = imprintable.find_variants %>
        <% if variants.empty? %>
          <%= render partial: 'variant_select', locals: { imprintable: imprintable, f: f } %>
        <% else %>
          <%= render partial: 'grid', locals: { imprintable: imprintable,
                                                variants: variants,
                                                size_variants: @size_variants,
                                                color_variants: @color_variants,
                                                variants_array: @variants_array } %>
        <% end %>
      <% end %>


      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" id="submit_button" class="btn btn-info"><%= text %> Imprintable</button>
        </div>
      </div>

    </div>
  <% end %>
</div>
