<div class="box-info">
  <%= render partial: 'shared/modal_errors', locals: { object: imprint_method } %>

  <%= form_for imprint_method do |f| %>
    <div id="horizontal-form" class="collapse in">
      <div class="form-group">
        <%= f.label :name, class: 'col-sm-2 control-label' %>

        <div class="col-sm-10">
          <%= f.text_field :name, class: 'form-control' %>

          <% if imprint_method.errors.include?(:name) %>
            <% imprint_method.errors.full_messages_for(:name).each do |message| %>
              <p class="text-danger"><%= message %></p>
            <% end %>
          <% end %>

          <p class="help-block">The name of the imprint method (Embroidery, for example)</p>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :ink_colors, class: 'col-sm-2 control-label' %>

        <div class="col-sm-10"></div>

        <div class="col-md-10 col-md-offset-2">
          <% imprint_method.ink_colors.each do |ink_color| %>
            <%= render 'ink_color', ink_color: ink_color %>
          <% end %>

          <%= link_to "<i class='fa fa-plus'></i> Add Ink color".html_safe, '#', class: 'insert-before btn btn-info', data: { content: "#{(render 'ink_color').gsub("\n", ' ').html_safe}" } %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :print_locations, class: 'col-sm-2 control-label' %>

        <div class="col-sm-10">
          <% if imprint_method.errors.include?(:print_locations) %>
            <% imprint_method.errors.full_messages_for(:print_locations).each do |message| %>
              <p class="text-danger"><%= message %></p>
            <% end %>
          <% end %>
        </div>

        <div class="row">
          <div class="col-md-10 col-md-offset-2">
            <%= f.fields_for :print_locations do |ff| %>
              <%= render partial: 'print_location_fields', locals: { f: ff } %>
            <% end %>

            <%= link_to_add_fields "<i class='fa fa-plus'></i> Add Print Location".html_safe, f, :print_locations %>

            <p class="help-block">The location and size of the print</p>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-info">
              <%= create_or_edit_text(imprint_method) %> Imprint Method
            </button>
          </div>
        </div>
      </div>
  <% end %>
  </div>
</div>
